openapi: 3.0.0

info:
  title: EduDarshi API Documentation
  description: API documentation for EduDarshi platform
  version: 1.0.0

servers:
  - url: https://edudarshi.onrender.com/api
    description: Production server
  - url: http://localhost:5000/api
    description: Local server

tags:
  - name: Blogs
  - name: Previous Papers
  - name: Research & News
  - name: Webinars

paths:

  /blogs:
    get:
      tags: [Blogs]
      summary: Get all blogs
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            example: 1
        - name: limit
          in: query
          schema:
            type: integer
            example: 10
      responses:
        200:
          description: List of blogs

  /blogs/{id}:
    get:
      tags: [Blogs]
      summary: Get blog by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            example: "65ab1234ef9012"
      responses:
        200:
          description: Blog fetched successfully
        404:
          description: Blog not found

  /blogs/admin/upload:
    post:
      tags: [Blogs]
      summary: Create a blog (Admin)
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - title
                - summary
                - content
                - category
                - image
              properties:
                title:
                  type: string
                  example: "My First Blog"
                summary:
                  type: string
                  example: "Short summary"
                content:
                  type: string
                  example: "Full blog content"
                category:
                  type: string
                  example: "Technology"
                author:
                  type: string
                  example: "Admin"
                image:
                  type: string
                  format: binary
      responses:
        201:
          description: Blog created successfully

  /blogs/admin/{id}:
    delete:
      tags: [Blogs]
      summary: Delete blog (Admin)
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Blog deleted

  /previous-papers/admin/upload:
    post:
      tags: [Previous Papers]
      summary: Add previous year paper (Admin)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - exam
                - subject
                - year
              properties:
                exam:
                  type: string
                  example: "UPSC"
                subject:
                  type: string
                  example: "History"
                year:
                  type: integer
                  example: 2023
                paperPdfLink:
                  type: string
                  example: "https://drive.google.com/file/d/1ABCxyz/view?usp=sharing"
                solutionYoutubeLink:
                  type: string
                  example: "https://www.youtube.com/watch?v=abc"
      responses:
        201:
          description: Paper added

  /previous-papers:
    get:
      tags: [Previous Papers]
      summary: Get all previous papers
      responses:
        200:
          description: Papers list

  /previous-papers/admin/{id}:
    delete:
      tags: [Previous Papers]
      summary: Delete previous paper (Admin)
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Paper deleted

  /research-news/admin/upload:
    post:
      tags: [Research & News]
      summary: Create research/news item
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - type
                - source
              properties:
                title:
                  type: string
                  example: "AI in Education"
                summary:
                  type: string
                  example: "Short description"
                type:
                  type: string
                  enum: [Research, News]
                source:
                  type: string
                  example: "Google Scholar"
                publishedDate:
                  type: string
                  format: date-time
                  example: "2024-01-15T10:30:00Z"
      responses:
        201:
          description: Item created

  /research-news:
    get:
      tags: [Research & News]
      summary: Get all research/news
      responses:
        200:
          description: List of items

  /research-news/{id}:
    get:
      tags: [Research & News]
      summary: Get research/news by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Item fetched

  /research-news/admin/{id}:
    delete:
      tags: [Research & News]
      summary: Delete research/news
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Item deleted

  /webinars:
    post:
      tags: [Webinars]
      summary: Create webinar
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - date
                - time
                - venue
              properties:
                title:
                  type: string
                  example: "Java Webinar"
                date:
                  type: string
                  format: date
                  example: "2024-02-10"
                time:
                  type: string
                  example: "10:00 AM"
                venue:
                  type: string
                  example: "Online"
                description:
                  type: string
                registrationLink:
                  type: string
      responses:
        201:
          description: Webinar created

    get:
      tags: [Webinars]
      summary: Get all webinars
      responses:
        200:
          description: Webinar list

  /webinars/{id}:
    delete:
      tags: [Webinars]
      summary: Delete webinar
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Webinar deleted
